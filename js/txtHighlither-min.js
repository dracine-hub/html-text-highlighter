function stripTags(e){"use strict";for(var t=/<[^>]+>/gi,n=[],i=[],r=" ",a,s;null!==(a=t.exec(e));){for(s=[],n.push(a);s.length!==a[0].length;)s.push(r);i.push(s.join(""))}for(var l=0;l<n.length;l++)e=e.replace(n[l],i[l]);return e}function highlightProcess(e,t,n){var i=document.getElementById(e);if(highlightRe.test(i.innerHTML)&&(i.innerHTML=t),!(n.length<2)){for(var r=new RegExp(n,"ig"),a=[],s=[],l;null!==(l=r.exec(stripTags(t)));)a.push(l.index),s.push(l.index+n.length);if(0!==a.length){a=a.reverse(),s=s.reverse();for(var o=t.split(""),c=0;c<a.length;c++)o.splice(s[c],0,after),o.splice(a[c],0,before);i.innerHTML=o.join("");for(var h=document.getElementsByClassName(highlightClass),d=0;d<h.length;d++)h[d].setAttribute("tabindex",d+2)}}}function checkTerm(e){var t=e;return t.length<2?"":spaceRe.test(t)&&0===spaceRe.exec(t).index?(t=t.replace(spaceRe.exec(t),""),spaceRe2.test(t)?t.substring(0,t.lastIndexOf(spaceRe2.exec(t))):t):spaceRe2.test(t)?t.substring(0,t.lastIndexOf(spaceRe2.exec(t))):e}function mainHighlight(e){"use strict";1!==targetContentCheck?highlightProcess(targetID,targetInitialHTML,checkTerm(e)):console.log(contentError)}function checkInputAttributes(e,t){var n=["id","class","type","name","placeholder","tabindex","onkeyup"],i=["input-field-default","input-field-default","text","search","Default Search Field","1","mainHighlight(this.value)"];"new"===t&&(document.body.style.padding="40px 0 0 0");for(var r=0;r<n.length;r++)e.hasAttribute(n[r],i[r])||e.setAttribute(n[r],i[r])}function createSearchField(e){var t=".default-wrap{box-sizing:border-box;display:block;position:absolute;width:100%;height:40px;top:0;left:0;box-shadow: 0px 0px 10px rgb(150,150,150);}.input-field-default{box-sizing:border-box;display:block;position:absolute;width:100%;height:40px;top:0;left:0;z-index:1500;padding: 0 20px;border-radius:0px;outline:0;border:none;}",n=document.getElementsByTagName("head")[0].lastChild;if(n.innerText!==t){var i=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(i),document.getElementsByTagName("head")[0].lastChild.innerHTML=t}var r=document.createElement("div"),a=document.createElement("input"),s=document.body.firstChild,l=s.parentNode;l.insertBefore(r,s);var o=document.body.firstChild;o.setAttribute("id","default-wrap"),o.setAttribute("class","default-wrap"),o.appendChild(a);var c=o.firstChild;checkInputAttributes(c,"new")}function checkSearchContent(e){return document.getElementById(e)?void(targetInitialHTML=document.getElementById(e).innerHTML):(targetContentCheck=1,void console.log(contentError))}function setup(){"use strict";var e=document.getElementById(inputID);e?checkInputAttributes(e):createSearchField(inputID),checkSearchContent(targetID)}var targetID="target",inputID="search-field",targetInitialHTML,targetContentCheck=0,highlightClass="highlightjs",highlightRe=new RegExp(highlightClass,"ig"),spaceRe=/\s+/,spaceRe2=/\s+$/,before='<span style="display: inline-block; position: relative;"><span class="'+highlightClass+'" style="display: block; background: yellow; box-shadow: 0px 0px 1px rgb(120,120,120);">',after="</span></span>",contentError="The ID selector '"+targetID+"' does not exist in the DOM. Please define a valid ID selector in the user settings of the script and reload the page.";setup();